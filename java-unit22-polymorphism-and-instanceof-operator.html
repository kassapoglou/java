<!DOCTYPE html>
<html lang="en">

<head>
    <title>Μαθαίνω Δωρεάν Java Προγραμματισμό</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
        content="Μια ολοκληρωμένη σειρά δωρεάν μαθημάτων και on-line σεμιναρίων στην γλώσσα προγραμματισμού Java">
    <meta name="robots" content="index, follow">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <!-- ElegantFonts CSS -->
    <link rel="stylesheet" href="css/elegant-fonts.css">

    <!-- themify-icons CSS -->
    <link rel="stylesheet" href="css/themify-icons.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="css/swiper.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="java_style.css">
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-150900548-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-150900548-1');
    </script>

</head>

<body class="single-blog-post">
    <div class="page-header">
        <header class="site-header">
            <div class="top-header-bar">
                <div class="container-fluid">
                    <div class="row">
                        <div
                            class="col-12 col-lg-6 d-none d-md-flex flex-wrap justify-content-center justify-content-lg-start mb-3 mb-lg-0">
                            <div class="header-bar-email d-flex align-items-center">
                                <i class="fa fa-envelope"></i><a href="#">michail.kassapoglou@gmail.com</a>
                            </div><!-- .header-bar-email -->

                            <div class="header-bar-text lg-flex align-items-center">
                                <!--  <p><i class="fa fa-phone"></i>001-1234-88888 </p> -->
                            </div><!-- .header-bar-text -->
                        </div><!-- .col -->

                        <div
                            class="col-12 col-lg-6 d-flex flex-wrap justify-content-center justify-content-lg-end align-items-center">
                            <div class="header-bar-search">
                                <form class="flex align-items-stretch">
                                    <!--   <input type="search" placeholder="What would you like to learn?"> -->
                                    <!--   <button type="submit" value="" class="flex justify-content-center align-items-center"><i class="fa fa-search"></i></button> -->
                                </form>
                            </div><!-- .header-bar-search -->

                            <div class="header-bar-menu">
                                <ul class="flex justify-content-center align-items-center py-2 pt-md-0">
                                    <!--  <li><a href="#">Register</a></li> -->
                                    <!--    <li><a href="#">Login</a></li> -->
                                </ul>
                            </div><!-- .header-bar-menu -->
                        </div><!-- .col -->
                    </div><!-- .row -->
                </div> <!-- .container-fluid -->
            </div><!-- .top-header-bar -->

            <div class="nav-bar">
                <div class="container">
                    <div class="row">
                        <div class="col-9 col-lg-3">
                            <div class="site-branding">
                                <h1 class="site-title"><a href="https://kassapoglou.github.io/main/"
                                        rel="home">Kassa<span>poglou</span></a></h1>
                            </div><!-- .site-branding -->
                        </div><!-- .col -->

                        <div class="col-3 col-lg-9 flex justify-content-end align-content-center">
                            <nav class="site-navigation flex justify-content-end align-items-center">
                                <ul class="flex flex-column flex-lg-row justify-content-lg-end align-content-center">
                                    <li class="current-menu-item"><a href="index.html">ΑΡΧΙΚΗ</a></li>
                                    <!-- <li><a href="https://kassapoglou.github.io/main/forum.html">Forum</a></li>-->
                                    <li><a href="https://kassapoglou.github.io/main/">ΑΡΧΙΚΗ</a></li>
                                    <li><a href="https://kassapoglou.github.io/java/java-programming.html">JAVA
                                        </a></li>
                                    <li><a href="https://kassapoglou.github.io/main/contact.html">ΕΠΙΚΟΙΝΩΝΙΑ</a></li>
                                </ul>

                                <div class="hamburger-menu d-lg-none">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div><!-- .hamburger-menu -->


                            </nav><!-- .site-navigation -->
                        </div><!-- .col -->
                    </div><!-- .row -->
                </div><!-- .container -->
            </div><!-- .nav-bar -->
        </header><!-- .site-header -->

        <div class="page-header-overlay">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <header class="entry-header">
                            <h1 class="entry-title">ΕΝΟΤΗΤΑ 22 JAVA SE - Polymorphism and instanceof operator</h1>

                            <div class="entry-meta flex justify-content-center align-items-center">
                                <div class="post-author"><a href="#">Michail Kassapoglou </a></div>

                                <!--  <div class="post-comments"><a href="#">02 Comments</a></div> -->
                            </div><!-- .entry-meta -->
                        </header><!-- .entry-header -->
                    </div><!-- .col -->
                </div><!-- .row -->
            </div><!-- .container -->
        </div><!-- .page-header-overlay -->
    </div><!-- .page-header -->

    <div class="container">
        <div class="row">
            <div class="col-12 offset-lg-1 col-lg-10">
                <div class="featured-image">
                    <!--  <img src="images/single-post.jpg" alt=""> -->

                    <div class="posted-date position-absolute">
                        <div class="day">19</div>
                        <div class="month">Apr</div>
                    </div><!-- .posted-date -->
                </div><!-- .featured-image -->
            </div><!-- .col -->
        </div><!-- .row -->

        <div class="row">
            <div class="col-12 offset-lg-1 col-lg-1" style="height:0">
                <div class="post-share">



                </div><!-- .post-share -->
            </div><!-- .col -->

            <div class="col-12 col-lg-12">
                <div class="single-post-wrap">
                    <p>
                        <h3>ΔΩΡΕΑΝ ΜΑΘΗΜΑΤΑ JAVA</h3>
                        <p>Στο σημερινό δωρεάν μάθημα Java θα μιλήσουμε για τον πολυμορφισμό
                            και θα αναλύσουμε ένα απλό πρόγραμμα για την καλύτερη κατανόηση της θεωρίας.</p>

                        <p>Στην προηγούμενη ενότητα είχαμε δει την κληρονομικότητα μέσα από
                            ένα απλό παράδειγμα μιας εφαρμογής που υπολόγιζε τον μισθό των εργαζομένων
                            ανάλογα αν ήταν full-time ή απλά εξωτερικοί συνεργάτες. Για να αναλύσουμε
                            καλύτερα την έννοια του πολυμορφισμού, ας προσθέσουμε μια ακόμα κλάση με
                            το όνομα Manager η οποία και αυτή με την σειρά της θα κληρονομεί από την
                            Salary. Στην ουσία οι τρεις κλάσεις στις οποίες θα βασιστεί το βασικό μας
                            παράδειγμα στο σημερινό δωρεάν μάθημα Java είναι οι Employee, Salary και
                            Manager. Ας δούμε για αρχή πως είναι το καινούργιο UML διάγραμμα της
                            εφαρμογής μας και μετά θα τρέξουμε ένα παράδειγμα με τις τρεις κλάσεις.</p>

                        <img src="java-unit22/java-unit22-1.jpg" alt="Δωρεάν Μαθήματα και Σεμινάρια JAVA"
                            class="center">
                        <p></p>

                        <p><strong>Employee.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

class Employee{
    public String name;
    public int AFM;
    public String department;
    public int employeeId;

    public void mailCheck(){
        System.out.println("Mailing a check to " + this.name);
    }
}
        </pre>

                        <p><strong>Salary.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class Salary extends Employee{

public float salary;

public double payment(){
    return this.salary/52.0;
}
}
</pre>

                        <p><strong>Manager.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class Manager extends Salary{
    
    public double bonus(){
        return this.payment()+1000;
    
    }
}
</pre>

                        <p>Ο κώδικας της Manager κλάσης είναι πολύ απλός όπως διαπιστώνετε και
                            εσείς. Προσθέτει 1000 ευρώ επιπλέον στην μισθοδοσία του εργαζόμενου επειδή
                            σαν Manager δικαιούται ένα bonus.</p>

                        <p>Ας δούμε και ένα απλό παράδειγμα εκτέλεσης αυτού του προγράμματος.</p>

                        <p><strong>EmployeeDemo.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class EmployeeDemo {
    public static void main(String []args){
        Manager m1 = new Manager();
        m1.name = "Michail";
        m1.department = "Development";
        m1.salary = 20000;
        System.out.println("Hello "+m1.name);
        System.out.println("Your payment plus your bonus is: " + m1.bonus());
        
    }
}

</pre>

                        <p><strong>Output</strong></p>
                        <pre class="prettyprint">
Hello Michail
Your payment plus your bonus is: 1384.6153846153848
</pre>

                        <p>Πριν δούμε την έννοια του πολυμορφισμού, ας αναλύσουμε
                            άλλη μια φορά τι σημαίνει ακριβώς η γραμμή </p>

                        <p><strong>Manager m1 = new Manager( );</strong></p>

                        <p>Δεν θα πω τίποτα καινούργιο, απλά θα επαναλάβω τον δικό μου απλό
                            ορισμό σε περίπτωση που δεν του είχαμε δώσει αρκετή σημασία από την
                            ενότητα της κληρονομικότητας. Δεξιά από το ίσον είναι η εντολή να
                            δημιουργηθεί ένα καινούργιο αντικείμενο κάνοντας χρήση του default no-argument
                            constructor που μας προσφέρει η java από την στιγμή που δεν έχουμε δημιουργήσει
                            δικό μας constructor. Οπότε το αντικείμενο είναι ήδη δημιουργημένο στην μνήμη
                            απλά, επειδή έτσι σχεδιάστηκε η java εξ αρχής, δεν μας επιτρέπει άμεση πρόσβαση
                            σε αυτό. Για αυτό το λόγο, από τα αριστερά του ίσον, δημιουργούμε ένα reference
                            το οποίο θα έχει την ευθύνη να καλεί τις μεταβλητές και τις μεθόδους, που
                            ανήκουν στο αντικείμενο, για μας. Το σημαντικό στοιχείο είναι το data type
                            του reference m1. Εδώ είναι Manager που σημαίνει ότι το reference θα
                            συμπεριφέρεται σαν Manager - δηλαδή θα βλέπει όλες τις public
                            μεταβλητές και τις μεθόδους του αντικειμένου. Αν το δούμε συνολικά
                            λοιπόν θα μπορούμε να πούμε τον εξής απλό ορισμό: δημιουργούμε ένα
                            αντικείμενο είδος Manager και το reference συμπεριφέρεται σαν
                            Manager. Δηλαδή θα μπορούσε να είχαμε δημιουργήσει ένα αντικείμενο
                            είδος Manager αλλά να είχε διαφορετική συμπεριφορά? Ναι, και αυτός
                            είναι ο πολυμορφισμός.</p>

                        <p>Ας γυρίσουμε πίσω στην main( ) και ας δημιουργήσουμε ένα
                            αντικείμενο είδος Manager που να συμπεριφέρεται σαν Employee.</p>

                        <p><strong>EmployeeDemo.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class EmployeeDemo {
    public static void main(String []args){
        Employee m1 = new Manager();
        
    }
}
</pre>

                        <p>Δημιουργήσαμε ένα αντικείμενο είδος Manager αλλά η συμπεριφορά
                            του reference είναι ίδια με ενός Employee αντικειμένου. Αυτό μπορούμε
                            να το επιβεβαιώσουμε ένα γράψουμε m1 και τελεία. Η λίστα με τις μεθόδους
                            και τις μεταβλητές που θα εμφανιστεί είναι εκείνη της κλάσης Employee. </p>


                        <img src="java-unit22/java-unit22-2.jpg" alt="Δωρεάν Μαθήματα και Σεμινάρια JAVA"
                            class="center">
                        <p></p>

                        <p>Με αυτό τον τρόπο έχουμε τον έλεγχο πότε ένα αντικείμενο μπορεί να
                            αποκτήσει ολοκληρωμένη πρόσβαση σε όλες τις μεθόδους και τις public
                            μεταβλητές μιας κλάσης. Αυτή την στιγμή δεν θέλουμε το αντικείμενο να έχει
                            δυνατότητες πέραν από εκείνες ενός αντικειμένου Employee. Το αντικείμενο
                            Manager που δημιουργήσαμε, υφίσταται και υπάρχει στην μνήμη, απλά
                            φιλτράρουμε το τι ακριβώς βλέπουμε. </p>

                        <p>Πριν προχωρήσουμε στην θεωρία του πολυμορφισμού (polymorphism) πρέπει
                            να αναφέρουμε ότι <strong>δεν υφίσταται πολυμορφισμός εάν δεν υπάρχει
                                κληρονομικότητα</strong>. Πρέπει να υπάρχει κληρονομικότητα μεταξύ δύο ή
                            περισσοτέρων κλάσεων για να μπορέσουμε να παίξουμε με τον πολυμορφισμό.</p>

                        <p>Επίσης θα πρέπει να γίνει κατανοητό ότι μπορούμε να δώσουμε
                            οποιαδήποτε συμπεριφορά στο αντικείμενο από την κλάση που δημιουργήθηκε και
                            πάνω, όχι πιο κάτω από την κλάση που δημιουργήθηκε. Δηλαδή αν είχαμε δημιουργήσει
                            ένα αντικείμενο είδος Salary θα μπορούσαμε στο reference να δώσουμε την
                            συμπεριφορά του Employee αλλά όχι εκείνη του Manager.</p>

                        <img src="java-unit22/java-unit22-3.jpg" alt="Δωρεάν Μαθήματα και Σεμινάρια JAVA"
                            class="center">
                        <p></p>

                        <p>Οπότε αν δημιουργήσουμε ένα αντικείμενο είδος Manager θα μπορούσαμε να
                            του δώσουμε την συμπεριφορά του Employee, Salary ή Manager ενώ εάν
                            δημιουργήσουμε ένα αντικείμενο είδος Salary τότε μπορούμε να του δώσουμε
                            μόνο την συμπεριφορά του Employee ή εκείνη του Salary.</p>

                        <p>Αν έχουμε δώσει την συμπεριφορά του Employee στο αντικείμενο
                            μας, πως μπορούμε να του αλλάξουμε την συμπεριφορά δίνοντας του ιδιότητες
                            Salary ή ακόμα και Manager? Η απάντηση είναι απλή – χρησιμοποιώντας
                            casting. Ας δούμε πως μπορούμε να αλλάξουμε τις δυνατότητες του
                            αντικειμένου δίνοντας του ικανότητες Salary.</p>

                        <p><strong>EmployeeDemo.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class EmployeeDemo {
    public static void main(String []args){
        Employee m1 = new Manager();
        Salary s1 = (Salary)m1;
        
    }
}
</pre>


                        <p>Η συμπεριφορά του s1 είναι ίδια με εκείνη ενός Salary
                            αντικειμένου. Θα δούμε ότι εμφανίζονται τώρα τόσο η μεταβλητή salary
                            όσο και η μέθοδο payment( ). Φυσικά για να κρατήσουμε μόνιμα αυτή την
                            μετατροπή, αναθέτουμε την καινούργια συμπεριφορά σε μια μεταβλητή s1 είδος Salary.</p>

                        <img src="java-unit22/java-unit22-4.jpg" alt="Δωρεάν Μαθήματα και Σεμινάρια JAVA"
                            class="center">
                        <p></p>

                        <p>Με την ίδια λογική, μπορούμε να κάνουμε το s1 ή το m1 να
                            συμπεριφέρεται σαν Manager. Τότε θα έχουμε αποκτήσει και απόλυτη
                            πρόσβαση σε όλες τις ιδιότητες και μεταβλητές της κλάσης Manager. Επειδή
                            η κλάση Manager κληρονομεί από την Salary και εκείνη με την σειρά της από
                            την Employee, τότε ένα αντικείμενο Manager έχει πρόσβαση σε όλες τις
                            μεθόδους και μεταβλητές και των τριών κλάσεων.</p>

                        <p><strong>EmployeeDemo.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class EmployeeDemo {
    public static void main(String []args){
        Employee m1 = new Manager();
        Manager m2 = (Manager)m1;
        m1 = null;
        m2.salary=20000;
        System.out.println("Your salary+bonus is: " + m2.bonus());
        
    }
}
</pre>

                        <p><strong>Output</strong></p>
                        <pre class="prettyprint">
    Your salary+bonus is: 1384.6153846153848
</pre>

                        <p>Εδώ μετατρέπουμε το m1 πίσω στην κλάση από την οποία δημιουργήθηκε
                            αρχικά δίνοντας του πρόσβαση ξανά σε όλες τις μεθόδους και μεταβλητές
                            της κλάσης Manager. Καλό θα ήταν να μην έχετε πολλά reference, που να
                            αναφέρονται στο ίδιο αντικείμενο, διαθέσιμα στο πρόγραμμα σας. Γιατί
                            πολύ απλά, αλλάζοντας κάτι από το ένα reference θα επηρεάσει το άλλο
                            αφού αναφέρονται στο ίδιο αντικείμενο. Οπότε ο πιο σωστός τρόπος είναι
                            να αναθέτετε null στο πρώτο reference. Με αυτό τον τρόπο το reference
                            παύει να δείχνει σε κάποιο αντικείμενο. </p>

                        <p>Σε όλη αυτή την διαδικασία που μόλις περιγράψαμε υπάρχει ένα
                            πρόβλημα – δεν έχουμε κάποιο προγραμματιστικό τρόπο να γνωρίζουμε
                            από πια κλάση γεννήθηκε εξ αρχής το αντικείμενο. Πολλές φορές δεν
                            είμαστε εμείς που δημιουργούμε αντικείμενα μέσα σε μια μεγάλη
                            εφαρμογή. Απλά τα δεχόμαστε από κάποιο service ή άλλη διαδικασία. Οπότε
                            δεν θα είμαστε εμείς εκείνοι που έχουν καλέσει τον constructor. Σκεφτείτε
                            λοιπόν ένα δέντρο κληρονομικότητας που περιέχει 10 κλάσεις. Και το
                            αντικείμενο έχει γεννηθεί από την 5 κλάση. Πως εμείς θα το γνωρίζουμε
                            αυτό? Αν προσπαθήσετε να μετατρέψετε το αντικείμενο σε κάτι αντίστοιχο
                            της κλάσης 6 θα λάβετε λάθος γιατί δεν γεννήθηκε από εκεί, ενώ αν το
                            μετατρέψετε σε εκείνο της κλάσης 4 δεν θα γνωρίζετε αν έχετε όλες τις
                            δυνατότητες γιατί απλά δεν μπορείτε να επιβεβαιώσετε ότι δημιουργήθηκε
                            από εκεί. Η λύση λοιπόν σε όλη αυτή την διαδικασία είναι ένας απλός
                            operator που ονομάζεται <strong>instanceof</strong>. Ο instanceof operator
                            απλά ελέγχει από ποια κλάση αρχικά δημιουργήθηκε το αντικείμενο. Ο τρόπος
                            που το εφαρμόζουμε μέσα στον κώδικα μας είναι απλά με ένα if-else
                            έλεγχο. Ας δούμε ένα απλό παράδειγμα.</p>


                        <p><strong>EmployeeDemo.java</strong></p>
                        <pre class="prettyprint">
package inheritance;

public class EmployeeDemo {
    public static void main(String []args){
        Employee m1 = new Manager();
        
        if (m1 instanceof Manager){
            System.out.println("Casting to a Manager reference");
            Manager m = (Manager)m1;
            m.salary=20000;
            System.out.println("Your payment is: " + m.bonus());
        }else
        if(m1 instanceof Salary){
            System.out.println("Casting to a Salary reference");
            Salary s1 = (Salary)m1;
            s1.salary=20000;
            System.out.println("Your payment is: " + s1.payment());
        }
        }
    }
    </pre>

                        <p><strong>Output</strong></p>
                        <pre class="prettyprint">
Casting to a Manager reference
Your payment is: 1384.6153846153848
    </pre>

                        <p>Ο βασικός κανόνας σε αυτή την διαδικασία είναι να ξεκινήσουμε
                            από την πιο χαμηλή στην κληρονομικότητα κλάση και να αναβαίνουμε
                            μια-μια κλάση μέχρι να φτάσουμε στην αρχική. Αν είχαμε βάλει τις
                            κλάσεις μας ανάποδα στον κώδικα της EmployeeDemo, τότε θα γινόταν
                            μετατροπή σε αντικείμενο είδος Salary αφού ένα αντικείμενο Manager
                            είναι και Salary. </p>


                        <a><a href="https://kassapoglou.github.io/java/java-programming.html">
                                <font color="#0000CC">Πίσω στις δωρεάν ενότητες Java Programming</font>
                            </a></a>
                        <img src="images/java-logo.jpg" alt="Δωρεάν Μαθήματα και Σεμινάρια JAVA" class="center">

                        <div class="author-box">
                            <div class="author-info flex flex-wrap">
                                <div class="author-avatar">
                                    <img src="images/michail.jpg" alt="">


                                </div><!-- .author-avatar -->

                                <div class="author-details">
                                    <h3 class="author-name">Michail Kassapoglou <span>Admin</span></h3>

                                    <div class="entry-content mt-3">
                                        <p>Γεια σας, είμαι ο Μιχάλης Κασάπογλου και θα σας διδάξω με τον ποιο απλό
                                            τρόπο να προγραμματίζετε σε Java. Ασχολούμαι με την τεχνική εκπαίδευση
                                            σε διάφορες πλατφόρμες, λειτουργικά συστήματα και γλώσσες προγραμματισμού
                                            πάνω από 20 έτη. Κατέχω έναν αρκετά μεγάλο αριθμό πιστοποιήσεων
                                            και σαν Τraining Lead στην Intrasoft έχω την δυνατότητα να αναβαθμίζω
                                            συνεχώς
                                            τις γνώσεις μου και να έχω άμεση επαφή με αληθινά projects και
                                            εξειδικευμένες
                                            μεθόδους
                                            ανάπτυξης εφαρμογών που έχουν υψηλές απαιτήσεις.
                                            Για τυχόν ερωτήσεις σας μπορείτε να επικοινωνήσετε μαζί μου
                                            στο <font color="#0000CC">Michail.Kassapoglou@gmail.com </font>
                                        </p>
                                        <p>Σας ευχαριστώ που επισκεφτήκατε τα δωρεάν μαθήματα προγραμματισμού JAVA.</p>
                                    </div><!-- .entry-content -->
                                </div><!-- .author-details -->
                            </div><!-- .author-info -->
                        </div><!-- .author-box -->


                </div><!-- .col -->
            </div><!-- .row -->
        </div><!-- .container -->





        <script type='text/javascript' src='js/jquery.js'></script>
        <script type='text/javascript' src='js/swiper.min.js'></script>
        <script type='text/javascript' src='js/masonry.pkgd.min.js'></script>
        <script type='text/javascript' src='js/jquery.collapsible.min.js'></script>
        <script type='text/javascript' src='js/custom.js'></script>

</body>

</html>